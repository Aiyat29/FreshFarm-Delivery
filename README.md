Документация API FreshFarm Delivery
1. Общая информация
FreshFarm Delivery — это платформа для доставки свежих продуктов с фермерских хозяйств. API предоставляет доступ к функционалу платформы, включая регистрацию и авторизацию пользователей, управление корзиной, заказами, продуктами и профилями фермеров.
Технологический стек
Backend: Java Spring Boot
База данных: PostgreSQL
Инструменты разработки: Lombok, JUnit, Swagger, Postman

2. Эндпоинты API
2.1. Аутентификация
Эндпоинты для регистрации и авторизации пользователей.
POST /auth/register
Регистрация нового пользователя.
Параметры запроса (JSON):
json
Копировать код
{
  "username": "string",
  "password": "string",
  "confirmPassword": "string",
  "email": "string",
  "role": "string"
}

Ответ:
{
  "id": 1,
  "token": "string"
}

POST /auth/login
Авторизация пользователя.
Параметры запроса (JSON):
{
  "email": "string",
  "password": "string"
}

Ответ:
{
  "id": 1,
  "token": "string"
}


2.2. Корзина
Эндпоинты для управления корзиной покупателя.
POST /basket/{productId}
Добавить продукт в корзину.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
productId (в URL): ID продукта
kilo (в параметрах): Количество в килограммах
Ответ: HTTP 200 OK
GET /basket
Получить корзину пользователя.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
Ответ:
[
  {
    "basketId": 1,
    "name": "string",
    "imagePath": "string",
    "price": 10.0,
    "kilo": 2.0,
    "totalPrice": 20.0
  }
]

GET /basket/price
Получить общую стоимость корзины.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
Ответ:
{
  "totalPrice": 50.0
}

PUT /basket/{basketId}
Обновить количество продукта в корзине.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
basketId (в URL): ID корзины
kilo (в параметрах): Новое количество
Ответ:
{
  "totalPrice": 60.0
}

DELETE /basket/{basketId}
Удалить продукт из корзины.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
basketId (в URL): ID корзины
Ответ:
[
  {
    "basketId": 2,
    "name": "string",
    "imagePath": "string",
    "price": 15.0,
    "kilo": 1.0,
    "totalPrice": 15.0
  }
]

DELETE /basket
Очистить всю корзину.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
Ответ: HTTP 200 OK

2.3. Продукты
Эндпоинты для работы с товарами.
GET /products
Получить список всех продуктов.
Параметры запроса (необязательно):
page: Номер страницы (по умолчанию 0)
size: Количество элементов на странице (по умолчанию 10)
farmerId: ID фермера
name: Название продукта
sortBy: Поле для сортировки (например, price)
sortType: Тип сортировки (asc или desc)
Ответ:
[
  {
    "id": 1,
    "farmer": "string",
    "name": "string",
    "imagePath": ["string"],
    "description": "string",
    "price": 10.0,
    "stock": 50,
    "createdAt": "2024-11-28T00:00:00"
  }
]

POST /products
Добавить новый продукт.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
request (в теле): Данные о продукте
images (в теле): Список изображений продукта
Ответ:
{
  "id": 1,
  "farmer": "string",
  "name": "string",
  "imagePath": ["string"],
  "description": "string",
  "price": 10.0,
  "stock": 50,
  "createdAt": "2024-11-28T00:00:00"
}


2.4. Заказы
Эндпоинты для управления заказами.
GET /orders
Получить список заказов пользователя.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
Ответ:
[
  {
    "orderId": 1,
    "customerId": 1,
    "orderDate": "2024-11-28T00:00:00",
    "orderStatus": "Completed",
    "totalAmount": 50.0
  }
]

POST /orders
Оформить заказ.
Параметры запроса:
Authorization (в заголовке): Токен пользователя
Ответ: HTTP 200 OK

2.5. Фермеры
Эндпоинты для управления профилем фермера.
GET /farmers
Получить список фермеров.
Параметры запроса (необязательно):
page: Номер страницы (по умолчанию 0)
size: Количество элементов на странице (по умолчанию 10)
Ответ:
[
  {
    "id": 1,
    "farmerName": "string",
    "imagePath": "string",
    "email": "string",
    "address": "string",
    "phone": "string",
    "createdAt": "2024-11-28T00:00:00"
  }
]


3. Ошибки
В случае ошибки API возвращает HTTP-код состояния и описание ошибки. Пример:
{
  "timestamp": "2024-11-28T00:00:00",
  "status": 400,
  "error": "Bad Request",
  "message": "Invalid request parameters",
  "path": "/auth/register"
}




     Техническое задание (ТЗ)
Проект: Платформа для доставки продуктов из фермерских хозяйств
1. Цель проекта
Цель проекта — разработать платформу, где пользователи смогут заказывать свежие продукты напрямую от местных фермеров с доставкой на дом. Это обеспечит доступ к качественным, свежим продуктам и создаст новые возможности для местных производителей.
2. Актуальность проекта
С ростом цен на продукты и ухудшением их качества в магазинах, проект становится особенно актуальным. Многие продукты быстро портятся, а покупатели нуждаются в свежих и натуральных товарах. Платформа позволит фермерам продавать свою продукцию по справедливым ценам, улучшая свои рейтинги и стимулируя их к дальнейшему развитию. Это также поможет избежать дефицита натуральных продуктов, поддерживая местное фермерство.
3. Описание проекта
Проект включает создание веб-платформы, где фермеры смогут размещать информацию о своей продукции, а пользователи — оформлять заказы. Основные этапы работы:
Разработка базы данных для хранения информации о фермерских хозяйствах и их продуктах.
Создание интерфейса для регистрации пользователей и фермеров.
Интеграция системы для управления заказами и оплатами.
Организация логистики для доставки продуктов от фермеров к пользователям.
4. Технологии и инструменты
Языки программирования: Java (Spring Boot)
База данных: PostgreSQL
Инструменты: Postman, Swagger,GitHub, Figma
Тестирование: JUnit
5. Методология выполнения
Проект будет реализован с использованием Agile-методологии. Работа будет разбита на спринты, и каждая итерация будет включать разработку, тестирование и сбор обратной связи от пользователей.
6. Ожидаемое время завершения
Проектирование платформы: 7 дней
Разработка системы регистрации и авторизации: 10 дней
Создание функционала для управления заказами: 15 дней
Интеграция системы оплаты и доставки: 10 дней
Тестирование и доработка: 7 дней
Общий срок выполнения проекта: 49 дней
7. Сфера применения
Платформа будет использоваться для поддержки местных фермеров и обеспечения пользователей свежими продуктами. Она позволит сократить потери качества продуктов, которые часто возникают в магазинах, и будет способствовать экономическому росту фермерских хозяйств, открывая новые каналы сбыта.
